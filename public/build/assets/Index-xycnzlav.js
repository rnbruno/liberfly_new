import{_ as j,r as d,m as B,p as M,q as N,f as O,s as m,j as w,o as c,c as u,b as t,l as y,v as p,x as T,F as C,h as D,t as x,n as i,y as I,w as S,z,e as k,k as A,i as E}from"./app-BU69Np-9.js";const q={setup(){const n=d(""),o=d(""),s=d(""),e=d(""),l=d(""),f=d("created_at"),g=d("desc"),{posts:b,getPosts:r,deletePost:h}=B(),{categories:P,getCategories:V}=M(),{can:F}=N();O(()=>{r(),V()});const U=a=>{f.value=a,g.value=g.value==="asc"?"desc":"asc",r(1,n.value,o.value,s.value,e.value,l.value,f.value,g.value)};return m(n,(a,v)=>{r(1,a,o.value,s.value,e.value,l.value)}),m(o,(a,v)=>{r(1,n.value,a,s.value,e.value,l.value)}),m(s,(a,v)=>{r(1,n.value,o.value,a,e.value,l.value)}),m(e,(a,v)=>{r(1,n.value,o.value,s.value,a,l.value)}),m(l,_.debounce((a,v)=>{r(1,n.value,o.value,s.value,e.value,a)},200)),{posts:b,getPosts:r,deletePost:h,categories:P,search_category:n,search_id:o,search_title:s,search_content:e,search_global:l,orderColumn:f,orderDirection:g,updateOrdering:U,can:F}}},L={class:"overflow-hidden overflow-x-auto p-6 bg-white border-gray-200"},G={class:"min-w-full align-middle"},H={class:"mb-4 grid lg:grid-cols-4 gap-4"},J={class:"min-w-full divide-y divide-gray-200 border"},K={class:"px-6 py-3 bg-gray-50 text-left"},Q={class:"px-6 py-3 bg-gray-50 text-left"},R={class:"px-6 py-3 bg-gray-50 text-left"},W=["value"],X={class:"px-6 py-3 bg-gray-50 text-left"},Y={class:"px-6 py-3 bg-gray-50 text-left"},Z={class:"select-none"},$={class:"px-6 py-3 bg-gray-50 text-left"},ee={class:"select-none"},te={class:"px-6 py-3 bg-gray-50 text-left"},oe={class:"select-none"},re={class:"bg-white divide-y divide-gray-200 divide-solid"},ae={class:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-900"},ie={class:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-900"},ne={class:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-900"},se={class:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-900"},le={class:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-900"},de={class:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-900"},ce=["onClick"];function ge(n,o,s,e,l,f){const g=w("router-link"),b=w("Pagination");return c(),u("div",L,[t("div",G,[t("div",H,[y(t("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>e.search_global=r),type:"text",placeholder:"Search...",class:"inline-block mt-1 w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[p,e.search_global]])]),t("table",J,[t("thead",null,[t("tr",null,[t("th",K,[y(t("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>e.search_id=r),type:"text",class:"inline-block mt-1 w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Filter by ID"},null,512),[[p,e.search_id]])]),t("th",Q,[y(t("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>e.search_title=r),type:"text",class:"inline-block mt-1 w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Filter by Title"},null,512),[[p,e.search_title]])]),t("th",R,[y(t("select",{"onUpdate:modelValue":o[3]||(o[3]=r=>e.search_category=r),class:"inline-block mt-1 w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},[o[9]||(o[9]=t("option",{value:"",selected:""},"-- all categories --",-1)),(c(!0),u(C,null,D(e.categories,r=>(c(),u("option",{value:r.id},x(r.name),9,W))),256))],512),[[T,e.search_category]])]),t("th",X,[y(t("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>e.search_content=r),type:"text",class:"inline-block mt-1 w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Filter by Content"},null,512),[[p,e.search_content]])]),o[10]||(o[10]=t("th",{class:"px-6 py-3 bg-gray-50 text-left"},null,-1)),o[11]||(o[11]=t("th",{class:"px-6 py-3 bg-gray-50 text-left"},null,-1))]),t("tr",null,[t("th",Y,[t("div",{class:"flex flex-row items-center justify-between cursor-pointer",onClick:o[5]||(o[5]=r=>e.updateOrdering("id"))},[t("div",{class:i(["leading-4 font-medium text-gray-500 uppercase tracking-wider",{"font-bold text-blue-600":e.orderColumn==="id"}])}," ID ",2),t("div",Z,[t("span",{class:i({"text-blue-600":e.orderDirection==="asc"&&e.orderColumn==="id",hidden:e.orderDirection!==""&&e.orderDirection!=="asc"&&e.orderColumn==="id"})},"↑",2),t("span",{class:i({"text-blue-600":e.orderDirection==="desc"&&e.orderColumn==="id",hidden:e.orderDirection!==""&&e.orderDirection!=="desc"&&e.orderColumn==="id"})},"↓",2)])])]),t("th",$,[t("div",{class:"flex flex-row items-center justify-between cursor-pointer",onClick:o[6]||(o[6]=r=>e.updateOrdering("title"))},[t("div",{class:i(["leading-4 font-medium text-gray-500 uppercase tracking-wider",{"font-bold text-blue-600":e.orderColumn==="title"}])}," Title ",2),t("div",ee,[t("span",{class:i({"text-blue-600":e.orderDirection==="asc"&&e.orderColumn==="title",hidden:e.orderDirection!==""&&e.orderDirection!=="asc"&&e.orderColumn==="title"})},"↑",2),t("span",{class:i({"text-blue-600":e.orderDirection==="desc"&&e.orderColumn==="title",hidden:e.orderDirection!==""&&e.orderDirection!=="desc"&&e.orderColumn==="title"})},"↓",2)])])]),o[12]||(o[12]=t("th",{class:"px-6 py-3 bg-gray-50 text-left"},[t("span",{class:"text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Category")],-1)),o[13]||(o[13]=t("th",{class:"px-6 py-3 bg-gray-50 text-left"},[t("span",{class:"text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Content")],-1)),t("th",te,[t("div",{class:"flex flex-row items-center justify-between cursor-pointer",onClick:o[7]||(o[7]=r=>e.updateOrdering("created_at"))},[t("div",{class:i(["leading-4 font-medium text-gray-500 uppercase tracking-wider",{"font-bold text-blue-600":e.orderColumn==="created_at"}])}," Created at ",2),t("div",oe,[t("span",{class:i({"text-blue-600":e.orderDirection==="asc"&&e.orderColumn==="created_at",hidden:e.orderDirection!==""&&e.orderDirection!=="asc"&&e.orderColumn==="created_at"})},"↑",2),t("span",{class:i({"text-blue-600":e.orderDirection==="desc"&&e.orderColumn==="created_at",hidden:e.orderDirection!==""&&e.orderDirection!=="desc"&&e.orderColumn==="created_at"})},"↓",2)])])]),o[14]||(o[14]=t("th",{class:"px-6 py-3 bg-gray-50 text-left"}," Actions ",-1))])]),t("tbody",re,[(c(!0),u(C,null,D(e.posts.data,r=>(c(),u("tr",null,[t("td",ae,x(r.id),1),t("td",ie,x(r.title),1),t("td",ne,x(r.category),1),t("td",se,x(r.content),1),t("td",le,x(r.created_at),1),t("td",de,[e.can("posts.update")?(c(),I(g,{key:0,to:{name:"posts.edit",params:{id:r.id}}},{default:S(()=>o[15]||(o[15]=[z("Edit")])),_:2},1032,["to"])):k("",!0),e.can("posts.delete")?(c(),u("a",{key:1,href:"#",onClick:A(h=>e.deletePost(r.id),["prevent"]),class:"ml-2"},"Delete",8,ce)):k("",!0)])]))),256))])]),E(b,{data:e.posts,limit:3,onPaginationChangePage:o[8]||(o[8]=r=>e.getPosts(r,e.search_category,e.search_id,e.search_title,e.search_content,e.search_global,e.orderColumn,e.orderDirection)),class:"mt-4"},null,8,["data"])])])}const xe=j(q,[["render",ge]]);export{xe as default};
